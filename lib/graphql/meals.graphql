fragment MealFragment on Meal {
    id
    name
    description
    price
    imageUrl
    calories
    protein
    fat
    carbs
}

fragment MealPlanSummaryFragment on MealPlan {
    id
    name
    description
    price
    imageUrl
    calories
    protein
    fat
    carbs
    restaurant {
        id
        name
        deliveryPrice
    }
    dietCategories {
        edges {
            node {
                id
                name
            }
        }
    }
}

fragment MealPlanFragment on MealPlan {
    ...MealPlanSummaryFragment
    meals(first: 50) {
        edges {
            node {
                ...MealFragment
            }
        }
    }
}

query GetMeals($first: Int, $after: String, $search: String, $price: [MealFilter_price], $calories: [MealFilter_calories], $protein: [MealFilter_protein], $fat: [MealFilter_fat], $carbs: [MealFilter_carbs]) {
    meals(first: $first, after: $after, search: $search, price: $price, calories: $calories, protein: $protein, fat: $fat, carbs: $carbs) {
        edges {
            node {
                ...MealFragment
            }
        }
        pageInfo {
            hasNextPage
            endCursor
        }
    }
}

query GetMeal($id: ID!) {
    meal(id: $id) {
        ...MealFragment
    }
}

query GetMealsByRestaurant($restaurantId: ID!, $first: Int, $after: String, $search: String, $price: [MealFilter_price], $calories: [MealFilter_calories], $protein: [MealFilter_protein], $fat: [MealFilter_fat], $carbs: [MealFilter_carbs]) {
    restaurant(id: $restaurantId) {
        id
        meals(first: $first, after: $after, search: $search, price: $price, calories: $calories, protein: $protein, fat: $fat, carbs: $carbs) {
            edges {
                node {
                    ...MealFragment
                }
            }
            pageInfo {
                hasNextPage
                endCursor
            }
        }
    }
}

mutation CreateMeal($input: createMealInput!) {
    createMeal(input: $input) {
        meal {
            id
            name
        }
    }
}

mutation UpdateMeal($input: updateMealInput!) {
    updateMeal(input: $input) {
        meal {
            id
            name
        }
    }
}

mutation DeleteMeal($input: deleteMealInput!) {
    deleteMeal(input: $input) {
        meal {
            id
        }
    }
}

query GetMealPlans($first: Int, $after: String, $search: String, $price: [MealPlanFilter_price], $calories: [MealPlanFilter_calories], $protein: [MealPlanFilter_protein], $fat: [MealPlanFilter_fat], $carbs: [MealPlanFilter_carbs], $category: String) {
    mealPlans(first: $first, after: $after, search: $search, price: $price, calories: $calories, protein: $protein, fat: $fat, carbs: $carbs, dietCategories_name: $category) {
        edges {
            node {
                ...MealPlanSummaryFragment
            }
        }
        pageInfo {
            hasNextPage
            endCursor
        }
    }
}

query GetMealPlan($id: ID!) {
    mealPlan(id: $id) {
        ...MealPlanFragment
    }
}

query GetMealPlansByRestaurant($restaurantId: ID!, $first: Int, $after: String, $search: String, $price: [MealPlanFilter_price], $calories: [MealPlanFilter_calories], $protein: [MealPlanFilter_protein], $fat: [MealPlanFilter_fat], $carbs: [MealPlanFilter_carbs], $category: String) {
    restaurant(id: $restaurantId) {
        id
        mealPlans(first: $first, after: $after, search: $search, price: $price, calories: $calories, protein: $protein, fat: $fat, carbs: $carbs, dietCategories_name: $category) {
            edges {
                node {
                    ...MealPlanSummaryFragment
                }
            }
            pageInfo {
                hasNextPage
                endCursor
            }
        }
    }
}

mutation CreateMealPlan($input: createMealPlanInput!) {
    createMealPlan(input: $input) {
        mealPlan {
            id
            name
        }
    }
}

mutation UpdateMealPlan($input: updateMealPlanInput!) {
    updateMealPlan(input: $input) {
        mealPlan {
            id
            name
        }
    }
}

mutation DeleteMealPlan($input: deleteMealPlanInput!) {
    deleteMealPlan(input: $input) {
        mealPlan {
            id
        }
    }
}
